<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kontroler ekran√≥w</title>
    <link rel="stylesheet" href="/src/styles/controller.css" />
  </head>
  <body>
    <main class="wrapper">
      <header class="header">
        <h1>Kontroler rotacji produkt√≥w</h1>
        <p class="subtitle">
          Instancja: <strong id="instanceName"></strong> &nbsp;|&nbsp;
          <a href="/" style="font-size: 0.9em">‚Üê Powr√≥t do listy instancji</a>
        </p>
        <div style="display: flex; gap: 8px; align-items: center; justify-content: center; margin: 16px 0;">
          <button type="button" style="padding: 6px 10px; min-width: 32px;" onclick="adjustScreenPos(-1)">‚àí</button>
          <input type="number" id="screenPos" value="0" min="0" max="99" 
                 style="width: 60px; text-align: center; padding: 6px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(148, 163, 184, 0.3); border-radius: 6px; color: #e2e8f0; font-size: 14px;" />
          <button type="button" style="padding: 6px 10px; min-width: 32px;" onclick="adjustScreenPos(1)">+</button>
          <button type="button" style="padding: 8px 16px; background: rgba(56, 189, 248, 0.15); color: #7dd3fc; border: 1px solid rgba(56, 189, 248, 0.3); border-radius: 8px; font-weight: 600; cursor: pointer;" onclick="openScreenWindow()">
            üñ•Ô∏è Otw√≥rz ekran
          </button>
        </div>
        <p class="subtitle" style="font-size: 12px; color: #64748b;">
          Ustaw numer pozycji i kliknij "Otw√≥rz ekran" aby uruchomiƒá nowe okno
        </p>
      </header>

      <section class="panel">
        <div class="field">
          <label for="interval">Interwa≈Ç (sekundy)</label>
          <input id="interval" type="number" min="1" step="1" value="10" />
        </div>

        <div class="field">
          <label for="products">Lista produkt√≥w (jeden wpis na liniƒô)</label>
          <textarea id="products" rows="10" spellcheck="false"></textarea>
          <div class="hint">Mo≈ºesz wklejaƒá HTML (np. obrazki, ceny). Ka≈ºdy ekran wy≈õwietli tre≈õƒá jako <code>innerHTML</code>.</div>
        </div>

        <div class="buttons">
          <button id="startBtn" type="button">Start</button>
          <button id="stopBtn" type="button">Stop</button>
          <button id="resetBtn" type="button">Resetuj indeks</button>
        </div>

        <fieldset class="field layout-field">
          <legend>Tryb prezentacji</legend>
          <div class="layout-options">
            <label class="option">
              <input type="radio" name="layoutMode" value="card" checked />
              <span>Karta produktu (opis + grafika)</span>
            </label>
            <label class="option">
              <input type="radio" name="layoutMode" value="image" />
              <span>Pe≈Çnoekranowa grafika</span>
            </label>
          </div>
        </fieldset>

        <dl class="status" aria-live="polite">
          <div>
            <dt>Stan</dt>
            <dd id="stateLabel">Oczekiwanie‚Ä¶</dd>
          </div>
          <div>
            <dt>Aktywny indeks startowy</dt>
            <dd id="indexLabel">0</dd>
          </div>
          <div>
            <dt>Liczba produkt√≥w</dt>
            <dd id="productCount">0</dd>
          </div>
        </dl>
      </section>

      <section class="tips">
        <h2>Instrukcja</h2>
        <ul>
          <li>Uruchom tyle okien z <code>screen.html</code>, ile masz ekran√≥w. Ka≈ºdemu nadaj parametr <code>?pos=&lt;n&gt;</code>.</li>
          <li>Wprowad≈∫ listƒô produkt√≥w, naci≈õnij <strong>Start</strong>. Wszystkie ekrany zsynchronizujƒÖ siƒô automatycznie.</li>
          <li>Zmiana interwa≈Çu lub listy produkt√≥w podczas pracy restartuje cykl bez przerywania animacji.</li>
          <li>Przycisk <strong>Stop</strong> zatrzymuje timer, ale utrzymuje aktualnƒÖ zawarto≈õƒá na ekranach.</li>
        </ul>
      </section>
    </main>

    <script type="module" src="/src/controller.ts"></script>
  </body>
</html>
